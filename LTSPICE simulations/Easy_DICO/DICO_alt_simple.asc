Version 4
SHEET 1 2072 876
WIRE -272 -80 -416 -80
WIRE -144 -80 -272 -80
WIRE -64 -80 -144 -80
WIRE 0 -80 -64 -80
WIRE 80 -80 0 -80
WIRE 336 -80 160 -80
WIRE 496 -80 336 -80
WIRE 640 -80 496 -80
WIRE 768 -80 640 -80
WIRE -416 -16 -416 -80
WIRE -272 -16 -272 -80
WIRE -144 -16 -144 -80
WIRE 496 -16 496 -80
WIRE 640 -16 640 -80
WIRE 768 -16 768 -80
WIRE -464 0 -496 0
WIRE -320 0 -352 0
WIRE -192 0 -224 0
WIRE 80 0 48 0
WIRE 288 0 160 0
WIRE 448 0 416 0
WIRE 592 0 560 0
WIRE 720 0 688 0
WIRE 48 32 48 0
WIRE -272 80 -272 64
WIRE -144 80 -144 64
WIRE 640 80 640 64
WIRE 768 80 768 64
WIRE 992 96 992 80
WIRE -736 128 -736 112
WIRE -496 160 -496 0
WIRE -352 160 -352 0
WIRE -224 160 -224 0
WIRE 416 160 416 0
WIRE 560 160 560 0
WIRE 688 160 688 0
WIRE 0 288 0 -80
WIRE 80 288 0 288
WIRE 208 288 160 288
WIRE 208 304 208 288
WIRE -224 368 -368 368
WIRE -96 368 -224 368
WIRE -64 368 -96 368
WIRE 80 368 -64 368
WIRE 288 368 288 0
WIRE 288 368 160 368
WIRE 368 368 288 368
WIRE 496 368 368 368
WIRE 640 368 496 368
WIRE 768 368 640 368
WIRE -368 432 -368 368
WIRE -224 432 -224 368
WIRE -96 432 -96 368
WIRE 496 432 496 368
WIRE 640 432 640 368
WIRE 768 432 768 368
WIRE -416 448 -448 448
WIRE -272 448 -304 448
WIRE -144 448 -176 448
WIRE 448 448 416 448
WIRE 592 448 560 448
WIRE 720 448 688 448
WIRE -224 528 -224 512
WIRE -96 528 -96 512
WIRE 640 528 640 512
WIRE 768 528 768 512
WIRE -448 608 -448 448
WIRE -304 608 -304 448
WIRE -176 608 -176 448
WIRE 416 608 416 448
WIRE 560 608 560 448
WIRE 688 608 688 448
FLAG 48 32 0
FLAG 208 304 0
FLAG 992 176 0
FLAG -736 208 0
FLAG 448 496 0
FLAG 496 592 0
FLAG 592 496 0
FLAG 640 528 loadport
FLAG 720 496 0
FLAG 768 528 sourceport
FLAG 992 80 loadport
FLAG -736 112 sourceport
FLAG 560 688 0
FLAG 688 688 0
FLAG 416 688 0
FLAG -416 496 0
FLAG -368 592 0
FLAG -272 496 0
FLAG -224 528 loadport
FLAG -144 496 0
FLAG -96 528 sourceport
FLAG -304 688 0
FLAG -176 688 0
FLAG -448 688 0
FLAG 448 48 0
FLAG 496 144 0
FLAG 592 48 0
FLAG 640 80 loadport
FLAG 720 48 0
FLAG 768 80 sourceport
FLAG 560 240 0
FLAG 688 240 0
FLAG 416 240 0
FLAG -464 48 0
FLAG -416 144 0
FLAG -320 48 0
FLAG -272 80 loadport
FLAG -192 48 0
FLAG -144 80 sourceport
FLAG -352 240 0
FLAG -224 240 0
FLAG -496 240 0
FLAG -64 -80 p1
FLAG 336 -80 p2
FLAG -64 368 p3
FLAG 368 368 p4
SYMBOL ind2 176 -96 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName LP1
SYMATTR Value {T_Lp}
SYMATTR Type ind
SYMATTR SpiceLine Rser={T_DCRp}
SYMBOL ind2 176 -16 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName LS1
SYMATTR Value {T_Ls}
SYMATTR Type ind
SYMATTR SpiceLine Rser={T_DCRs} Cpar={T_Cs}
SYMBOL ind2 176 272 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName LS2
SYMATTR Value {T_Ls}
SYMATTR Type ind
SYMATTR SpiceLine Rser={T_DCRs} Cpar={T_Cs}
SYMBOL ind2 176 352 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName LP2
SYMATTR Value {T_Lp}
SYMATTR Type ind
SYMATTR SpiceLine Rser={T_DCRp}
SYMBOL res 480 496 R0
SYMATTR InstName R1
SYMATTR Value 50
SYMBOL res 976 80 R0
SYMATTR InstName RL
SYMATTR Value 50
SYMBOL voltage -736 112 R0
WINDOW 123 24 124 Left 2
WINDOW 39 24 152 Left 2
SYMATTR Value2 AC 1
SYMATTR SpiceLine Rser=50
SYMATTR InstName VS
SYMATTR Value ""
SYMBOL sw 496 528 M180
SYMATTR InstName S1
SYMATTR Value MuxSwitch
SYMBOL sw 640 528 M180
SYMATTR InstName S2
SYMATTR Value MuxSwitch
SYMBOL sw 768 528 M180
SYMATTR InstName S3
SYMATTR Value MuxSwitch
SYMBOL bv 560 592 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value V={if(abs(load_port-4)<0.1,1,0)}
SYMATTR InstName B1
SYMBOL bv 688 592 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value V={if(abs(source_port-4)<0.1,1,0)}
SYMATTR InstName B2
SYMBOL bv 416 592 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value V=(if((abs(load_port-4)>=0.1) & (abs(source_port-4)>=0.1),1,0))
SYMATTR InstName B3
SYMBOL res -384 496 R0
SYMATTR InstName R3
SYMATTR Value 50
SYMBOL sw -368 528 M180
SYMATTR InstName S4
SYMATTR Value MuxSwitch
SYMBOL sw -224 528 M180
SYMATTR InstName S5
SYMATTR Value MuxSwitch
SYMBOL sw -96 528 M180
SYMATTR InstName S6
SYMATTR Value MuxSwitch
SYMBOL bv -304 592 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value V={if(abs(load_port-3)<0.1,1,0)}
SYMATTR InstName B4
SYMBOL bv -176 592 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value V={if(abs(source_port-3)<0.1,1,0)}
SYMATTR InstName B5
SYMBOL bv -448 592 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value V=(if((abs(load_port-3)>=0.1) & (abs(source_port-3)>=0.1),1,0))
SYMATTR InstName B6
SYMBOL res 480 48 R0
SYMATTR InstName R2
SYMATTR Value 50
SYMBOL sw 496 80 M180
SYMATTR InstName S7
SYMATTR Value MuxSwitch
SYMBOL sw 640 80 M180
SYMATTR InstName S8
SYMATTR Value MuxSwitch
SYMBOL sw 768 80 M180
SYMATTR InstName S9
SYMATTR Value MuxSwitch
SYMBOL bv 560 144 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value V={if(abs(load_port-2)<0.1,1,0)}
SYMATTR InstName B7
SYMBOL bv 688 144 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value V={if(abs(source_port-2)<0.1,1,0)}
SYMATTR InstName B8
SYMBOL bv 416 144 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value V=(if((abs(load_port-2)>=0.1) & (abs(source_port-2)>=0.1),1,0))
SYMATTR InstName B9
SYMBOL res -432 48 R0
SYMATTR InstName R4
SYMATTR Value 50
SYMBOL sw -416 80 M180
SYMATTR InstName S10
SYMATTR Value MuxSwitch
SYMBOL sw -272 80 M180
SYMATTR InstName S11
SYMATTR Value MuxSwitch
SYMBOL sw -144 80 M180
SYMATTR InstName S12
SYMATTR Value MuxSwitch
SYMBOL bv -352 144 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value V={if(abs(load_port-1)<0.1,1,0)}
SYMATTR InstName B10
SYMBOL bv -224 144 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value V={if(abs(source_port-1)<0.1,1,0)}
SYMATTR InstName B11
SYMBOL bv -496 144 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value V=(if((abs(load_port-1)>=0.1) & (abs(source_port-1)>=0.1),1,0))
SYMATTR InstName B12
TEXT 32 -424 Left 2 !.param T_Ls=81u\n.param T_Ns=20\n.param T_DCRp=0.0007\n.param T_DCRs=0.4m\n.param T_Cs=1p\n.param T_K=1.0\n \n.param T_Lp={T_Ls/T_Ns**2}\n \nK1 LP1 LS1 {T_K}\nK2 LP2 LS2 {T_K}
TEXT -368 832 Left 2 !.ac dec 1k 100k 10meg\n.net I(RL) VS
TEXT 544 -376 Left 2 !.model MuxSwitch SW(Ron=.0001 Roff=10Meg Vt=0.5 Vh=0 Lser=0 Vser=0)
TEXT 992 -224 Left 2 !; fudge a more sophisticated network analysis by doing several two port analyses in a sweep\n.param load_port=3\n.step param load_port LIST 3 4\n.param source_port=1\n.step param source_port LIST 1 2
TEXT 1112 -24 Left 2 !.param ftest=1meg\n \n.meas ftest PARAM {ftest}\n.meas AC S21_at_ftest FIND (S21(vs)) AT ftest
