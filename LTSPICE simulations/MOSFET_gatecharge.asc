Version 4
SHEET 1 5344 3112
WIRE 192 -256 48 -256
WIRE 48 -224 48 -256
WIRE 192 -192 192 -256
WIRE 192 -112 192 -128
WIRE 304 -112 192 -112
WIRE 304 -96 304 -112
WIRE 192 -32 192 -112
WIRE 192 96 192 -32
WIRE 48 176 -48 176
WIRE 112 176 48 176
WIRE 144 176 112 176
WIRE -48 192 -48 176
WIRE 48 192 48 176
WIRE 192 208 192 192
WIRE -576 240 -576 176
FLAG -576 320 0
FLAG 48 -144 0
FLAG 112 176 g
FLAG -576 176 t
FLAG -336 272 out
FLAG -352 560 0
FLAG -352 480 0
FLAG 192 208 0
FLAG 304 -16 0
FLAG -48 272 0
FLAG 48 272 0
FLAG 192 -32 d
SYMBOL nmos 144 96 R0
SYMATTR InstName M1
SYMATTR Value IRF630N
SYMATTR Prefix X
SYMBOL voltage 48 -240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value {VD}
SYMBOL voltage -576 224 R0
WINDOW 123 24 152 Left 2
WINDOW 39 24 180 Left 2
SYMATTR Value2 AC 1
SYMATTR SpiceLine Rser={Rsource}
SYMATTR InstName V2
SYMATTR Value ""
SYMBOL res -368 464 R0
SYMATTR InstName RS
SYMATTR Value {Rsource}
SYMBOL diode 208 -128 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL current 304 -16 R180
WINDOW 0 24 80 Left 2
WINDOW 3 24 0 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value 1
SYMBOL current -48 272 R180
WINDOW 0 24 80 Left 2
WINDOW 3 24 0 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I2
SYMATTR Value PULSE(0 {Ig} {tdelay} {trise} {trise} {100u/Ig})
SYMBOL res 32 176 R0
SYMATTR InstName R1
SYMATTR Value {1k/Ig}
TEXT 904 -448 Left 2 !.param f0=2.7e6\n.param w0={2*3.14159*f0}\n.param Ld={1/w0**2/Coss}\n \n.param Zscale=0.16\n \n.param Gm=2\n.param Rs={(Gm0-Gm)/(Gm0*Gm)}\n.param VG={ID*Rs+Vth}\n.param Rfb={1000*Zscale}\n.param Rg=1k\n.param Rg_damp=1.50\n.param Lg_damp=15p\n.param Rsource={50*Zscale}\n.param Rload={50*Zscale}
TEXT -216 -1360 Left 2 ;; IRF530\n.param VD=48\n.param Gm0=4\n.param ID=1\n.param Vth=4.5\n.param Coss=320p
TEXT -544 -1360 Left 2 ;; IRF510, Ids=1\n.param VD=48\n.param Gm0=1.8\n.param ID=1\n.param Vth=5\n.param Coss=100p
TEXT -544 -1160 Left 2 ;; IRF510, Ids=2\n.param VD=48\n.param Gm0=2.5\n.param ID=2\n.param Vth=5.3\n.param Coss=100p
TEXT -544 -968 Left 2 ;; IRF510, Ids=4\n.param VD=48\n.param Gm0=2.6\n.param ID=4\n.param Vth=6.05\n.param Coss=100p
TEXT -544 -784 Left 2 ;; IRF510, Ids=5\n.param VD=48\n.param Gm0=2.75\n.param ID=5\n.param Vth=6.35\n.param Coss=100p
TEXT -216 -1184 Left 2 ;; IRF530, Ids=2\n.param VD=48\n.param Gm0=4.4\n.param ID=2\n.param Vth=4.75\n.param Coss=320p
TEXT -216 -968 Left 2 ;; IRF530, Ids=4\n.param VD=48\n.param Gm0=5.4\n.param ID=4\n.param Vth=5.1\n.param Coss=320p
TEXT 1680 -976 Left 2 !.SUBCKT irf530n 1 2 3\n**************************************\n*      Model Generated by MODPEX     *\n*Copyright(c) Symmetry Design Systems*\n*         All Rights Reserved        *\n*    UNPUBLISHED LICENSED SOFTWARE   *\n*   Contains Proprietary Information *\n*      Which is The Property of      *\n*     SYMMETRY OR ITS LICENSORS      *\n*Commercial Use or Resale Restricted *\n*   by Symmetry License Agreement    *\n**************************************\n* Model generated on Sep 21, 01\n* MODEL FORMAT: SPICE3\n* Symmetry POWER MOS Model (Version 1.0)\n* External Node Designations\n* Node 1 -> Drain\n* Node 2 -> Gate\n* Node 3 -> Source\nM1 9 7 8 8 MM L=100u W=100u\n.MODEL MM NMOS LEVEL=1 IS=1e-32\n+VTO=3.79209 LAMBDA=3.64034 KP=81.097\n+CGSO=8.9e-06 CGDO=1e-11\nRS 8 3 0.056205\nD1 3 1 MD\n.MODEL MD D IS=9.06112e-12 RS=0.00982324 N=1.13042 BV=100\n+IBV=0.00025 EG=1.2 XTI=3.54513 TT=0.0001\n+CJO=7.4e-10 VJ=1.52632 M=0.693198 FC=0.5\nRDS 3 1 1e+06\nRD 9 1 0.0219755\nRG 2 7 4.4648\nD2 4 5 MD1\n* Default values used in MD1:\n*   RS=0 EG=1.11 XTI=3.0 TT=0\n*   BV=infinite IBV=1mA\n.MODEL MD1 D IS=1e-32 N=50\n+CJO=9.44672e-10 VJ=0.5 M=0.9 FC=1e-08\nD3 0 5 MD2\n* Default values used in MD2:\n*   EG=1.11 XTI=3.0 TT=0 CJO=0\n*   BV=infinite IBV=1mA\n.MODEL MD2 D IS=1e-10 N=0.400249 RS=3e-06\nRL 5 10 1\nFI2 7 9 VFI2 -1\nVFI2 4 0 0\nEV16 10 0 9 7 1\nCAP 11 10 1.29816e-09\nFI1 7 9 VFI1 -1\nVFI1 11 6 0\nRCAP 6 10 1\nD4 0 6 MD3\n* Default values used in MD3:\n*   EG=1.11 XTI=3.0 TT=0 CJO=0\n*   RS=0 BV=infinite IBV=1mA\n.MODEL MD3 D IS=1e-10 N=0.400249\n.ENDS irf530n
TEXT 64 -976 Left 2 ;; IRF530N, Ids=4\n.param VD=48\n.param Gm0=16\n.param ID=4\n.param Vth=4.0\n.param Coss=130p
TEXT 64 -776 Left 2 ;; IRF530N, Ids=5\n.param VD=48\n.param Gm0=16\n.param ID=5\n.param Vth=4.2\n.param Coss=130p
TEXT 48 -1176 Left 2 ;; IRF530N, Ids=2.5\n.param VD=48\n.param Gm0=16\n.param ID=2.5\n.param Vth=3.95\n.param Coss=130p
TEXT 2520 -984 Left 2 !.SUBCKT irf540n 1 2 3\n* SPICE3 MODEL WITH THERMAL RC NETWORK\n**************************************\n*      Model Generated by MODPEX     *\n*Copyright(c) Symmetry Design Systems*\n*         All Rights Reserved        *\n*    UNPUBLISHED LICENSED SOFTWARE   *\n*   Contains Proprietary Information *\n*      Which is The Property of      *\n*     SYMMETRY OR ITS LICENSORS      *\n*Commercial Use or Resale Restricted *\n*   by Symmetry License Agreement    *\n**************************************\n* Model generated on Sep  5, 01\n* MODEL FORMAT: SPICE3\n* Symmetry POWER MOS Model (Version 1.0)\n* External Node Designations\n* Node 1 -> Drain\n* Node 2 -> Gate\n* Node 3 -> Source\nM1 9 7 8 8 MM L=100u W=100u\n.MODEL MM NMOS LEVEL=1 IS=1e-32\n+VTO=3.58173 LAMBDA=0.00806114 KP=112.25\n+CGSO=1.896e-05 CGDO=1e-11\nRS 8 3 0.025918\nD1 3 1 MD\n.MODEL MD D IS=1.565e-11 RS=0.006486 N=1.1328 BV=100\n+IBV=0.00025 EG=1.2 XTI=3.32496 TT=0\n+CJO=1.16e-09 VJ=3.16363 M=0.840542 FC=0.5\nRDS 3 1 1e+06\nRD 9 1 0.0130608\nRG 2 7 6.45271\nD2 4 5 MD1\n* Default values used in MD1:\n*   RS=0 EG=1.11 XTI=3.0 TT=0\n*   BV=infinite IBV=1mA\n.MODEL MD1 D IS=1e-32 N=50\n+CJO=1.30485e-09 VJ=0.899032 M=0.9 FC=1e-08\nD3 0 5 MD2\n* Default values used in MD2:\n*   EG=1.11 XTI=3.0 TT=0 CJO=0\n*   BV=infinite IBV=1mA\n.MODEL MD2 D IS=1e-10 N=0.4 RS=3e-06\nRL 5 10 1\nFI2 7 9 VFI2 -1\nVFI2 4 0 0\nEV16 10 0 9 7 1\nCAP 11 10 2.35428e-09\nFI1 7 9 VFI1 -1\nVFI1 11 6 0\nRCAP 6 10 1\nD4 0 6 MD3\n* Default values used in MD3:\n*   EG=1.11 XTI=3.0 TT=0 CJO=0\n*   RS=0 BV=infinite IBV=1mA\n.MODEL MD3 D IS=1e-10 N=0.4\n.ENDS irf540n\n \n*SPICE Thermal Model Subcircuit\n.SUBCKT irf540nt 3 0\n \nR_RTHERM1         2 3  0.158\nR_RTHERM2         1 2  0.274\nR_RTHERM3         0 1  0.29\nC_CTHERM1         2 3  0.00131\nC_CTHERM2         1 2  0.001686\nC_CTHERM3         0 1  0.022562\n \n.ENDS irf540nt
TEXT 328 -1176 Left 2 ;; IRF540N, Ids=2.5\n.param VD=48\n.param Gm0=15\n.param ID=2.5\n.param Vth=3.8\n.param Coss=250p
TEXT 976 112 Left 2 !.lib irf630_sihf630_PS_formatted.spi\n.lib IRF630N_fixed.sub
TEXT 600 -1176 Left 2 ;; IRF630, Ids=2.5\n.param VD=48\n.param Gm0=3.7\n.param ID=2.5\n.param Vth=5.28\n.param Coss=240p
TEXT -376 -200 Left 2 ;trace formulas\nTransconductance of FET Gm0\nIx(M1:D)/V(g,s)\nEffective transconductance Gm\nIx(M1:D)/V(g)
TEXT 848 -1176 Left 2 !; IRF630N, Ids=2.5\n.param VD=48\n.param Gm0=10\n.param ID=2.5\n.param Vth=4\n.param Coss=120p
TEXT 200 304 Left 2 !.ic V(g)=0.1\n.ic V(d)=48
TEXT -96 -408 Left 2 !.tran 0 {tdelay+35n/Ig} {tdelay} {trise}
TEXT -192 448 Left 2 !.param Ig=200m\n.param tdelay=1u\n.param trise=5n
