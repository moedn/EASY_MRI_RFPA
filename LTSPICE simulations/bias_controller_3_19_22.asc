Version 4
SHEET 1 880 680
WIRE 48 -64 48 -96
WIRE -144 -48 -224 -48
WIRE 0 -48 -80 -48
WIRE -144 0 -144 -32
WIRE 112 48 96 48
WIRE 240 48 192 48
WIRE -336 160 -448 160
WIRE -80 160 -320 160
WIRE 48 160 48 32
WIRE 48 160 0 160
WIRE 80 160 48 160
WIRE 96 160 96 48
WIRE 96 160 80 160
WIRE 128 160 96 160
WIRE -448 176 -448 160
WIRE 240 176 240 48
WIRE 240 176 192 176
WIRE 272 176 240 176
WIRE 416 176 352 176
WIRE 128 192 64 192
WIRE -320 208 -320 160
WIRE -320 208 -352 208
WIRE 416 208 416 176
WIRE 160 224 160 208
WIRE -80 240 -144 240
WIRE 64 240 64 192
WIRE 64 240 0 240
WIRE -448 272 -448 256
WIRE -352 272 -352 208
WIRE -352 272 -448 272
WIRE -336 272 -336 160
WIRE -320 272 -320 256
WIRE -320 272 -336 272
WIRE -144 272 -144 240
WIRE -144 272 -320 272
WIRE -448 320 -448 272
WIRE -80 336 -160 336
WIRE 64 336 64 240
WIRE 64 336 0 336
WIRE 112 336 112 304
WIRE -160 368 -160 336
WIRE -448 384 -448 320
WIRE 64 432 64 336
WIRE -144 512 -192 512
WIRE -112 512 -144 512
WIRE 16 512 -32 512
WIRE -192 528 -192 512
WIRE 64 544 64 528
FLAG 160 224 0
FLAG 368 448 0
FLAG -160 448 0
FLAG 160 144 vcc
FLAG 368 368 vcc
FLAG -448 464 0
FLAG 416 272 0
FLAG -448 160 ENVp
FLAG -448 320 ENVn
FLAG 240 48 OUT
FLAG 416 176 OUT_FILT
FLAG 64 544 0
FLAG -192 608 0
FLAG 112 400 0
FLAG 48 -96 vcc
FLAG -144 0 0
FLAG -224 -48 BLANK_IN
FLAG -144 512 BLANK_IN
FLAG 64 192 inp
FLAG 80 160 inn
SYMBOL Opamps\\UniversalOpamp2 160 176 R0
SYMATTR InstName U1
SYMBOL voltage 368 352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL res 208 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 16 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 16 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res 16 320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL voltage -160 352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Voffset
SYMATTR Value 1
SYMBOL voltage -448 368 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName VINCM
SYMATTR Value SINE(0.1 0.5 1k)
SYMBOL voltage -448 160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName VINDM
SYMATTR Value PULSE(0 3 50u 50u 50u 1m 2m)
SYMBOL res 368 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL cap 400 208 R0
SYMATTR InstName C1
SYMATTR Value 10n
SYMBOL nmos 16 432 R0
SYMATTR InstName M1
SYMATTR Value BSS123
SYMBOL voltage -192 512 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 5 1.2m 1u 1u 50u 100u)
SYMBOL cap 96 336 R0
SYMATTR InstName C2
SYMATTR Value 100p
SYMBOL res -16 496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10
SYMBOL pmos 0 32 M180
SYMATTR InstName M2
SYMATTR Value BSS84
SYMBOL Digital\\inv -144 -112 R0
WINDOW 3 -93 1 Left 2
SYMATTR InstName A1
SYMATTR Value VLOW=0 VHIGH=5
TEXT 224 -160 Left 2 !.tran 0 5m 0
