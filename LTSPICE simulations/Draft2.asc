Version 4
SHEET 1 2476 680
WIRE 192 -256 48 -256
WIRE 48 -224 48 -256
WIRE 192 -80 192 -256
WIRE 80 32 16 32
WIRE 192 32 192 0
WIRE 192 32 160 32
WIRE 224 32 192 32
WIRE 240 32 224 32
WIRE 336 32 304 32
WIRE 336 64 336 32
WIRE -128 80 -144 80
WIRE -32 80 -48 80
WIRE 16 80 16 32
WIRE 192 96 192 32
WIRE -272 176 -272 64
WIRE -272 176 -288 176
WIRE -176 176 -176 144
WIRE -176 176 -208 176
WIRE -144 176 -144 80
WIRE -144 176 -176 176
WIRE -128 176 -144 176
WIRE -32 176 -32 80
WIRE -32 176 -48 176
WIRE 16 176 16 144
WIRE 16 176 -32 176
WIRE 112 176 16 176
WIRE 144 176 112 176
WIRE 416 176 400 176
WIRE 192 208 192 192
WIRE 192 224 192 208
WIRE -576 240 -576 176
WIRE -176 240 -176 176
WIRE 336 240 336 144
WIRE 192 336 192 304
WIRE -176 352 -176 320
FLAG 192 336 0
FLAG -576 320 0
FLAG -176 432 0
FLAG 48 -144 0
FLAG 224 32 d
FLAG 112 176 g
FLAG 192 208 s
FLAG -576 176 t
FLAG -336 272 out
FLAG -352 560 0
FLAG -272 64 t
FLAG 400 176 t
FLAG 336 320 0
FLAG 336 -128 0
FLAG 336 -208 0
FLAG -352 480 0
FLAG -176 144 t2
SYMBOL nmos 144 96 R0
SYMATTR InstName M1
SYMATTR Value irf530n
SYMATTR Prefix X
SYMBOL res 176 208 R0
SYMATTR InstName R1
SYMATTR Value {Rs}
SYMBOL res 176 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {Rfb}
SYMBOL cap 0 80 R0
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL res -192 224 R0
SYMATTR InstName R3
SYMATTR Value {Rg}
SYMBOL res -32 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value {Rg_damp}
SYMBOL ind -144 96 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value {Lg_damp}
SYMBOL cap -208 160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 1µ
SYMBOL ind 320 -224 R0
SYMATTR InstName L2
SYMATTR Value 10m
SYMBOL voltage 48 -240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value {VD}
SYMBOL voltage -576 224 R0
WINDOW 123 24 152 Left 2
WINDOW 39 24 180 Left 2
SYMATTR InstName V2
SYMATTR Value ""
SYMATTR Value2 AC 1
SYMATTR SpiceLine Rser={Rsource}
SYMBOL voltage -176 336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value {VG}
SYMBOL res 320 224 R0
SYMATTR InstName RL
SYMATTR Value {Rload}
SYMBOL cap 304 16 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 1µ
SYMBOL res 320 48 R0
SYMATTR InstName RL1
SYMATTR Value 1m
SYMBOL res -368 464 R0
SYMATTR InstName RS
SYMATTR Value {Rsource}
SYMBOL ind 176 -96 R0
SYMATTR InstName L3
SYMATTR Value {Ld}
TEXT 944 -536 Left 2 !.param f0=2.7e6\n.param w0={2*3.14159*f0}\n.param Ld={1/w0**2/Coss}\n \n.param Zscale=0.16\n \n.param Gm=1\n.param Rs={(Gm0-Gm)/(Gm0*Gm)}\n.param VG={ID*Rs+Vth}\n.param Rfb={500*Zscale}\n.param Rg=1k\n.param Rg_damp=1.50\n.param Lg_damp=15p\n.param Rsource={50*Zscale}\n.param Rload={50*Zscale}
TEXT -8 -456 Left 2 !.net I(RL) V2
TEXT 576 -160 Left 2 !.ac dec 1k 100k 10meg
TEXT 520 -1272 Left 2 ;; IRF530\n.param VD=48\n.param Gm0=4\n.param ID=1\n.param Vth=4.5\n.param Coss=320p
TEXT 192 -1272 Left 2 ;; IRF510, Ids=1\n.param VD=48\n.param Gm0=1.8\n.param ID=1\n.param Vth=5\n.param Coss=100p
TEXT 192 -1072 Left 2 ;; IRF510, Ids=2\n.param VD=48\n.param Gm0=2.5\n.param ID=2\n.param Vth=5.3\n.param Coss=100p
TEXT 192 -880 Left 2 ;; IRF510, Ids=4\n.param VD=48\n.param Gm0=2.6\n.param ID=4\n.param Vth=6.05\n.param Coss=100p
TEXT 192 -696 Left 2 ;; IRF510, Ids=5\n.param VD=48\n.param Gm0=2.75\n.param ID=5\n.param Vth=6.35\n.param Coss=100p
TEXT 520 -1096 Left 2 ;; IRF530, Ids=2\n.param VD=48\n.param Gm0=4.4\n.param ID=2\n.param Vth=4.75\n.param Coss=320p
TEXT 520 -880 Left 2 ;; IRF530, Ids=4\n.param VD=48\n.param Gm0=5.4\n.param ID=4\n.param Vth=5.1\n.param Coss=320p
TEXT 1680 -976 Left 2 !.SUBCKT irf530n 1 2 3\n**************************************\n*      Model Generated by MODPEX     *\n*Copyright(c) Symmetry Design Systems*\n*         All Rights Reserved        *\n*    UNPUBLISHED LICENSED SOFTWARE   *\n*   Contains Proprietary Information *\n*      Which is The Property of      *\n*     SYMMETRY OR ITS LICENSORS      *\n*Commercial Use or Resale Restricted *\n*   by Symmetry License Agreement    *\n**************************************\n* Model generated on Sep 21, 01\n* MODEL FORMAT: SPICE3\n* Symmetry POWER MOS Model (Version 1.0)\n* External Node Designations\n* Node 1 -> Drain\n* Node 2 -> Gate\n* Node 3 -> Source\nM1 9 7 8 8 MM L=100u W=100u\n.MODEL MM NMOS LEVEL=1 IS=1e-32\n+VTO=3.79209 LAMBDA=3.64034 KP=81.097\n+CGSO=8.9e-06 CGDO=1e-11\nRS 8 3 0.056205\nD1 3 1 MD\n.MODEL MD D IS=9.06112e-12 RS=0.00982324 N=1.13042 BV=100\n+IBV=0.00025 EG=1.2 XTI=3.54513 TT=0.0001\n+CJO=7.4e-10 VJ=1.52632 M=0.693198 FC=0.5\nRDS 3 1 1e+06\nRD 9 1 0.0219755\nRG 2 7 4.4648\nD2 4 5 MD1\n* Default values used in MD1:\n*   RS=0 EG=1.11 XTI=3.0 TT=0\n*   BV=infinite IBV=1mA\n.MODEL MD1 D IS=1e-32 N=50\n+CJO=9.44672e-10 VJ=0.5 M=0.9 FC=1e-08\nD3 0 5 MD2\n* Default values used in MD2:\n*   EG=1.11 XTI=3.0 TT=0 CJO=0\n*   BV=infinite IBV=1mA\n.MODEL MD2 D IS=1e-10 N=0.400249 RS=3e-06\nRL 5 10 1\nFI2 7 9 VFI2 -1\nVFI2 4 0 0\nEV16 10 0 9 7 1\nCAP 11 10 1.29816e-09\nFI1 7 9 VFI1 -1\nVFI1 11 6 0\nRCAP 6 10 1\nD4 0 6 MD3\n* Default values used in MD3:\n*   EG=1.11 XTI=3.0 TT=0 CJO=0\n*   RS=0 BV=infinite IBV=1mA\n.MODEL MD3 D IS=1e-10 N=0.400249\n.ENDS irf530n
TEXT 800 -888 Left 2 !; IRF530N, Ids=4\n.param VD=48\n.param Gm0=16\n.param ID=4\n.param Vth=4.0\n.param Coss=130p
