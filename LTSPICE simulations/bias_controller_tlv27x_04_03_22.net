* K:\Git_personal\BASIC_MRI_RFPA\LTSPICE simulations\bias_controller_tlv27x_04_03_22.asc
M1 Vblank1 N009 0 0 BSS123
V2 BLANK_IN 0 PULSE(0 5 1m 1u 1u 200u 400u)
R6 N010 BLANK_IN 10
A1 BLANK_IN 0 0 0 0 N009 0 0 BUF VLOW=0 VHIGH=5
Vtrim N007 0 3
XU2 N007 Vtrim_buff vcc 0 Vtrim_buff amp_tlv27x_highVdd
XU3 N003 N002 vcc 0 Vdiff_out amp_tlv27x_highVdd
R8 Vdiff_out N002 10K
R9 N002 N001 10K
R10 Vtrim_buff N003 10K
R11 N003 N005 10K
R7 Vblank1 Vdiff_out 1K
XU4 Vblank1 Vblank2 vcc 0 Vblank2 TLV2374
R12 Vblank3 Vblank2 1K
C3 Vblank3 0 2.2n
R13 N006 drive_out 1m
C4 N006 N004 {Cfb}
R14 drive_out drive_base {Rb}
Q1 vcc drive_base drive_emmitter 0 2N3904
Q2 0 drive_base drive_emmitter 0 2N3906
R15 drive_base drive_emmitter {Rbe}
R16 drive_emmitter N004 10K
R17 N004 0 10K
V1 vcc 0 12
R1 drive_emmitter vg1 {Rg1/Nloads}
C1 vg1 0 {Nloads*Cg1}
R2 vg1 vg2 {Rg2/Nloads}
C2 vg2 0 {Nloads*Cg2}
XU5 Vblank3 N004 vcc 0 drive_out TLV2374
R3 N004 N008 5k
C5 N008 0 {Cz}
.model NPN NPN
.model PNP PNP
.lib C:\Users\Joshua Rhodes\Documents\LTspiceXVII\lib\cmp\standard.bjt
.model NMOS NMOS
.model PMOS PMOS
.lib C:\Users\Joshua Rhodes\Documents\LTspiceXVII\lib\cmp\standard.mos
.tran 0 1.25m 1m
.lib TLV271.LIB
.lib TLV2374.LIB
.param Rbe=100
.param Rb=1
.param Rg1=50
.param Cg1=22n
.param Rg2=100
.param Cg2=22n
.param Nloads=4
.param Cfb=330p
.param Cz=1p
;.step param Rbe LIST 10 33 50 100
;.step param Rb LIST 0.1 1 10 50
;.step param Nloads LIST 0.1 1 2 4
.step param Cfb LIST 1p 33p 100p 330p
;.step param Cz LIST 1p 33p 100p 330p
.backanno
.end
